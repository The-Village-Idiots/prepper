<!DOCTYPE html>

<html>
	<head>
		{{template "head.gohtml" (println "Booking \"" .Activity.Title "\"")}}
	</head>

	<body>
		{{template "dashnav.gohtml" .}}

		<div class="container container-fluid mt-3">
			<h1>Timings for {{.Activity.Title}}</h1>
			<hr>

			<p>
				You are creating a booking for <strong>{{.Activity.Title}}</strong>.
				Please enter the timing and location information for this booking.
				This page will warn you about any clashes in equipment and allow for you to modify your booking accordingly, if possible.
			</p>
			<hr>

			<div class="mt-2">
				<nav>
					<div class="nav nav-tabs" id="options-tabs">
						<button class="nav-link active" id="manual-tab" data-bs-toggle="tab" data-bs-target="#manual" type="button" role="tab">Manually Enter</button>
						<button class="nav-link" id="automatic-tab" data-bs-toggle="tab" data-bs-target="#automatic" type="button" role="tab" {{if not .ISAMS}}disabled{{end}}>From Timetable</button>
					</div>
				</nav>

				<div class="tab-content p-4" id="nav-tabContent">
					<div class="tab-pane fade show active" id="manual" role="tabpanel" tabindex="0">
						<form action="/book/{{.Activity.ID}}/submit" method="GET">
							<!-- Used to select type serverside -->
							<input type="hidden" name="manual" value="yes">

							<!-- Hidden rows are carry overs from last form -->
							<div class="d-none">
								{{range .Items}}
									{{if .Important}}
										<input type="hidden" name="qty_{{.Item.ID}}" value="{{.Quantity}}">
									{{else}}
										<input type="hidden" name="eqty_{{.Item.ID}}" value="{{.Quantity}}">
									{{end}}
								{{end}}
							</div>

							<div class="row">
								<div class="col">
									<label class="form-label" for="date-input">Activity Date:</label>
									<input class="form-control" type="date" name="date" id="date-input" required>
								</div>
							</div>

							<div class="row mb-4">
								<div class="col">
									<label class="form-label" for="stime-input">Activity Start Time:</label>
									<input class="form-control" type="time" name="start_time" id="stime-input" required>
								</div>

								<div class="col">
									<label class="form-label" for="etime-input">Activity End Time:</label>
									<input class="form-control" type="time" name="end_time" id="etime-input" required>
								</div>
							</div>

							<div class="row">
								<div class="col">
									<button type="submit" class="btn btn-primary form-control">Book</button>
								</div>
							</div>
						</form>
					</div>

					<div class="tab-pane fade" id="automatic" role="tabpanel" tabindex="0">
					</div>
				</div>
			</div>
		</div>
	</body>
</html>
