<!DOCTYPE html>

<html>
	<head>
		{{template "head.gohtml" "Inventory Report"}}
	</head>

	<body>
		<div class="d-print-none">
			{{template "dashnav.gohtml" .}}
			
			<p class="mt-3 container container-fluid">
				The below is the printable inventory report for the current day.
				Only content below the line will be printed.
			</p>

			<hr>
		</div>

		<div class="container container-fluid mt-4 d-print-block">
			<h1>Inventory Report</h1>
			<p>Report generated by {{.User.DisplayName}} ({{.User.Username}}) on {{.Time}}. Powered by Prepper.</p>
			<hr>

			<div class="mt-4">
				<h2>Inventory Contents</h2>
				<table class="table table-striped table-sm">
					<thead>
						<tr>
							<th scope="col">Name</th>
							<th scope="col">Description</th>
							<th scope="col">Quantity</th>
							<th scope="col">Remarks</th>
						</tr>
					</thead>

					<tbody>
						{{range .Inventory}}
							<tr>
								<td>{{.Name}}</td>
								<td>{{.Description}}</td>
								<td>{{.Quantity}}</td>
								<td>
									{{if not .Available}}<span class="text-danger">Unavailable</span>{{end}}
									{{if .HazardVoltage}}<span class="text-warning">Voltage Hazard</span>{{end}}
									{{if .HazardLazer}}<span class="text-warning">Lazer Hazard</span>{{end}}
									{{if .HazardToxic}}<span class="text-warning">Toxicity Hazard</span>{{end}}
									{{if .HazardMisc}}<span class="text-warning">Unknown Hazard</span>{{end}}
								</td>
							</tr>
						{{end}}
					</tbody>
				</table>

				<hr>

				<h2>Daily Bookings Report</h2>
				<table class="table table-striped table-sm">
					<thead>
						<tr>
							<th scope="col">Item</th>
							<th scope="col">Bookings</th>
							<th scope="col">Total Booked</th>
							<th scope="col">Total Balance</th>
							<th scope="col">Remarks</th>
						</tr>
					</thead>

					<tbody>
						{{range .Inventory}}
							<tr>
								<td>{{.Name}}</td>
								<td>{{len .DailyBookings}}</td>
								<td>{{.DailyBooked}}</td>
								<td>{{.Balance}}</td>
								<td>
									{{if lt .Balance 0}}<span class="text-warning">Overbooked</span>{{end}}
								</td>
							</tr>
						{{end}}
					</tbody>
				</table>
			</div>
		</div>
	</body>
</html>
